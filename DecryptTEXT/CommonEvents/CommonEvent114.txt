CommonEvent 114
Name = "*Clima Calcs*"

  ConditionalBranch([12, "$game_variables[781].is_a? Array"])
    Empty([])

  Else([])
    ControlVariables([781, 781, 0, 4, "Array.new(6,-1)"])
    Comment(["[day,rain?,start,stop,heatstart,heatstop]"])
    Empty([])

  BranchEnd([])
  ConditionalBranch([12, "$game_variables[781][0] <= $game_variables[761]"])
    Comment(["Needs Recalc"])
    ControlVariables([781, 781, 0, 4, "Array.new(6,-1)"])
    Script(["$game_variables[781][0] = $game_variables[761]"])
    Comment(["###############"])
    Script(["@heatCh = 0"])
    Comment(["###############"])
    Script(["@rainCont = 0"])
    Comment(["###############"])
    Script(["if $game_variables[781][3] == 24"])
    ScriptMore(["@r = rand(2)"])
    ScriptMore(["if @r > 1"])
    ScriptMore(["@rainCont = 1"])
    ScriptMore(["end"])
    ScriptMore(["end"])
    Comment(["Rain in day Ch"])
    Script(["if $game_variables[1794] == 1"])
    ScriptMore(["$game_variables[781][1] = [0,1].sample"])
    ScriptMore(["@heatCh = [0,1].sample"])
    ScriptMore(["elsif $game_variables[1794] == 2"])
    ScriptMore(["$game_variables[781][1] = [0,0,1].sample"])
    ScriptMore(["@heatCh = 1"])
    ScriptMore(["elsif $game_variables[1794] == 3"])
    ScriptMore(["$game_variables[781][1] = [0,1].sample"])
    ScriptMore(["@heatCh = [0,0,1].sample"])
    ScriptMore(["else"])
    ScriptMore(["$game_variables[781][1] = [0,1,1].sample"])
    ScriptMore(["@heatCh = 0"])
    ScriptMore(["end"])
    Comment(["Heat start"])
    Script(["if @heatCh == 1"])
    ScriptMore(["if $game_variables[1794] == 1"])
    ScriptMore(["$game_variables[781][4] = 10"])
    ScriptMore(["$game_variables[781][5] = 14"])
    ScriptMore(["elsif $game_variables[1794] == 2"])
    ScriptMore(["$game_variables[781][4] = 9"])
    ScriptMore(["$game_variables[781][5] = 16"])
    ScriptMore(["elsif $game_variables[1794] == 3"])
    ScriptMore(["$game_variables[781][4] = 10"])
    ScriptMore(["$game_variables[781][5] = 14"])
    ScriptMore(["end"])
    ScriptMore(["else"])
    ScriptMore(["$game_variables[781][4] = -1"])
    ScriptMore(["$game_variables[781][5] = -1"])
    ScriptMore(["end"])
    Comment(["###############"])
    Script(["if $game_variables[781][1] == 1"])
    ScriptMore(["if @rainCont == 1"])
    ScriptMore(["$game_variables[781][2] = 0"])
    ScriptMore(["else"])
    ScriptMore(["$game_variables[781][2] = rand(22)"])
    ScriptMore(["end"])
    ScriptMore(["if @rainCont == 1"])
    ScriptMore(["$game_variables[781][3] = $game_variables[781][2] + (rand(6)+1)"])
    ScriptMore(["else"])
    ScriptMore(["$game_variables[781][3] = $game_variables[781][2] + (2*(rand(6)+1))"])
    ScriptMore(["end"])
    ScriptMore(["if $game_variables[781][3] >= 24"])
    ScriptMore([" $game_variables[781][3] = 24"])
    ScriptMore(["end"])
    ScriptMore(["end"])
    Comment(["###############"])
    Script(["if @heatCh == 1 && $game_variables[781][2] != -1"])
    ScriptMore(["if $game_variables[781][4] <= $game_variables[781][2]"])
    ScriptMore([" $game_variables[781][4] = $game_variables[781][2] + 1"])
    ScriptMore(["end"])
    ScriptMore(["if $game_variables[781][5] >= $game_variables[781][1]"])
    ScriptMore([" $game_variables[781][5] = $game_variables[781][1] - 1"])
    ScriptMore(["end"])
    ScriptMore(["end"])
    Comment(["###############"])
    Script(["puts(\"clima string = \" + $game_variables[781].to_s)"])
    Comment(["###############"])
    Empty([])

  BranchEnd([])
  Empty([])
